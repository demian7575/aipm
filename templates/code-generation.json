{
  "templateId": "code-generation",
  "version": "1.0", 
  "description": "Generate code from requirements",

  "input": {
    "schema": {
      "type": "object",
      "required": ["taskTitle", "objective"],
      "properties": {
        "taskTitle": {
          "type": "string",
          "description": "Title of the coding task"
        },
        "objective": {
          "type": "string",
          "description": "What the code should accomplish"
        },
        "constraints": {
          "type": "string",
          "description": "Technical constraints or requirements"
        },
        "language": {
          "type": "string",
          "default": "javascript",
          "description": "Programming language"
        }
      }
    },
    "example": {
      "taskTitle": "Add validation function",
      "objective": "Validate user input for email format",
      "constraints": "Use regex, return boolean",
      "language": "javascript"
    }
  },

  "output": {
    "schema": {
      "type": "object",
      "required": ["files", "summary"],
      "properties": {
        "files": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["path", "content"],
            "properties": {
              "path": {"type": "string"},
              "content": {"type": "string"}
            }
          }
        },
        "summary": {
          "type": "string",
          "description": "Brief description of generated code"
        }
      }
    },
    "example": {
      "files": [
        {
          "path": "validation.js",
          "content": "// Email validation function\nfunction validateEmail(email) {\n  const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return regex.test(email);\n}\n\nexport default validateEmail;"
        }
      ],
      "summary": "Email validation function with regex"
    }
  },

  "prompt": {
    "template": "Generate {{input.language}} code for: {{input.taskTitle}}\n\nObjective: {{input.objective}}\n{{#if input.constraints}}Constraints: {{input.constraints}}\n{{/if}}\nReturn ONLY this JSON format:\n{{outputTemplate}}",
    "variables": {
      "outputTemplate": "{{output.example}}"
    },
    "instructions": [
      "Write clean, readable code",
      "Include proper error handling",
      "Add JSDoc comments for functions",
      "Follow language best practices",
      "Return only the JSON, no explanations"
    ]
  }
}
