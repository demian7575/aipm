{
  "templateId": "acceptance-test-generation", 
  "version": "1.0",
  "description": "Generate acceptance tests for user stories",

  "input": {
    "schema": {
      "type": "object",
      "required": ["storyTitle", "storyDescription"],
      "properties": {
        "storyTitle": {
          "type": "string",
          "description": "Title of the user story"
        },
        "storyDescription": {
          "type": "string",
          "description": "Full user story description"
        },
        "testCount": {
          "type": "number",
          "default": 1,
          "description": "Number of tests to generate"
        }
      }
    },
    "example": {
      "storyTitle": "Add Search Feature",
      "storyDescription": "As a user, I want to search for content so that I can quickly find what I need",
      "testCount": 2
    }
  },

  "output": {
    "schema": {
      "type": "object",
      "required": ["tests"],
      "properties": {
        "tests": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["title", "given", "when", "then"],
            "properties": {
              "title": {"type": "string"},
              "given": {"type": "string"},
              "when": {"type": "string"}, 
              "then": {"type": "string"},
              "status": {"type": "string", "default": "Draft"}
            }
          }
        }
      }
    },
    "example": {
      "tests": [
        {
          "title": "Search returns relevant results",
          "given": "I am on the main page",
          "when": "I enter 'user story' in the search box and click search",
          "then": "I should see a list of relevant results containing 'user story'",
          "status": "Draft"
        }
      ]
    }
  },

  "prompt": {
    "template": "Generate {{input.testCount}} acceptance test(s) for this user story:\n\nTitle: {{input.storyTitle}}\nDescription: {{input.storyDescription}}\n\nReturn ONLY this JSON format:\n{{outputTemplate}}",
    "variables": {
      "outputTemplate": "{{output.example}}"
    },
    "instructions": [
      "Use Given-When-Then format",
      "Make tests specific and measurable",
      "Focus on user-visible behavior",
      "Each test should verify a different aspect"
    ]
  }
}
